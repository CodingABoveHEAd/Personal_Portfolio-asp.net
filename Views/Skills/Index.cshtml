@model IEnumerable<Personal_Portfolio2.Models.Skill>
@{
    ViewBag.Title = "My Skills";
}
@section Styles {
    <link href="~/Content/Skills.css" rel="stylesheet" />
}

<div class="skills-container">
   
    <div class="skills-header">
        <h2>My Skills</h2>
    </div>


    <div class="skills-grid">
        @foreach (var skill in Model)
        {
            <div class="skill-item">
                <div class="skills-decorator"></div>

               
                <div class="skill-label">
                    <span>@skill.Name</span>
                    <span class="skill-percentage">@skill.Level%</span>
                </div>

             
                <div class="progress-container">
                    <div class="progress-bar" style="--progress-width: @skill.Level%;"></div>
                </div>
            </div>
        }
    </div>
</div>

<script>

    document.addEventListener('DOMContentLoaded', function () {
        const progressBars = document.querySelectorAll('.progress-bar');

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const progressBar = entry.target;
                    const width = progressBar.style.getPropertyValue('--progress-width');
                    progressBar.style.width = width;
                }
            });
        }, {
            threshold: 0.1
        });

        progressBars.forEach(bar => {
            observer.observe(bar);
        });
    });
</script>